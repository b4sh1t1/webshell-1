```html

<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='dist/xterm.css') }}"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='dist/addons/fullscreen/fullscreen.css') }}"/>
    <!-- <link rel="stylesheet" href="/dist/style.css" /> -->
    <script src="{{ url_for('static', filename='dist/xterm.js') }}"></script>
    <script src="{{ url_for('static', filename='dist/addons/fullscreen/fullscreen.js') }}"></script>
    <script src="{{ url_for('static', filename='dist/addons/fit/fit.js') }}"></script>
</head>

<body>
<div class="container">
    <div id="terminal-container"></div>
</div>
<script>
    // terminado.apply(Terminal);

    console.log("加载addons");
    Terminal.applyAddon(fit);

    // 获取网页高度和宽度
    var cols = parseInt(document.documentElement.clientWidth/9.5,10)
    var rows = parseInt(document.documentElement.clientHeight/18,10)


    var term = new Terminal({
      cols: cols,
      rows: rows
    }),
      protocol = (location.protocol === 'https:') ? 'wss://' : 'ws://',
      socketURL = protocol + location.hostname + ((location.port) ? (':' + location.port) : '') + "/websocket/{{server_id}}";
    sock = new WebSocket(socketURL);

    sock.addEventListener('open', function () {
      // term(sock);
      //发送当前窗口大小
      sock.send("size:" + cols + "," + rows)
      term.on('data', function (data) {
        sock.send(data);
      });

    });

    sock.addEventListener("message", function (msg) {
      term.write(msg.data)
    });

    term.open(document.getElementById('terminal-container'));
    // term.write("Hello");
    term.fit();
    // term.toggleFullScreen(true);
  
</script>
</body>

```

```python
import paramiko


class SSH(object):

    def __init__(self, host, port, user, password=None, keyfile=None, passphrase=None):
        self.host = host
        self.port = port
        self.user = user
        self.password = password
        self.keyfile = keyfile
        self._ssh = paramiko.SSHClient()
        self._ssh.load_system_host_keys()
        self._ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
        k = keyfile and paramiko.RSAKey.from_private_key_file(
            keyfile, password=passphrase) or None
        self._ssh.connect(hostname=host, port=port, username=user,
                          password=password, pkey=k)
        self._chanel = self._ssh.invoke_shell(term='xterm')

    def resize(self, cols, rows):
        self._chanel.resize_pty(width=cols, height=rows)

    def send(self, msg):
        self._chanel.send(msg)

    def read(self):
        return self._chanel.recv(10000)

import asyncio
def _reading(self):
        asyncio.set_event_loop(asyncio.new_event_loop())
        while True:
            data = self.ssh.read()
            self.write_message(data)
```

https://github.com/jellyhappy/flask_manager/blob/master/app/ws/server.py

https://www.cnblogs.com/sss4/p/11016699.html

https://github.com/py3study/django3_websocket/blob/master/web/consumers.py

# paramiko 登录相关
https://www.jianshu.com/p/b145b2c52d25
https://www.cnblogs.com/jiahm/p/13471835.html